**DentaMind AI – Patient X-ray & AI Diagnosis Database Structure**

**Objective:**  
This document outlines the database structure for securely storing **DICOM X-ray files**, **patient medical history**, and **AI-generated diagnoses** within DentaMind AI. The system will ensure **HIPAA compliance** while allowing real-time AI-assisted diagnosis by integrating **radiographic findings with patient data**.

---

### **1. Database Tables & Fields**

#### **1️⃣ Patients Table**  
Stores general patient details and unique identifiers.

| Column Name          | Data Type        | Description |
|----------------------|-----------------|-------------|
| patient_id          | UUID (Primary Key) | Unique patient identifier |
| first_name          | VARCHAR(100) | Patient's first name |
| last_name           | VARCHAR(100) | Patient's last name |
| date_of_birth       | DATE | Patient's birth date |
| gender             | ENUM('Male', 'Female', 'Other') | Gender identifier |
| phone_number        | VARCHAR(15) | Contact number |
| email              | VARCHAR(255) | Email address (optional) |
| address            | TEXT | Home address (optional) |
| created_at         | TIMESTAMP | Record creation date |
| updated_at         | TIMESTAMP | Last record update date |

---

#### **2️⃣ DICOM X-ray Storage Table**  
Stores original DICOM X-rays and links them to patients.

| Column Name         | Data Type        | Description |
|---------------------|-----------------|-------------|
| dicom_id           | UUID (Primary Key) | Unique X-ray identifier |
| patient_id         | UUID (Foreign Key) | Links to **Patients Table** |
| file_name          | VARCHAR(255) | Original DICOM file name |
| file_path          | TEXT | Encrypted storage location |
| upload_date        | TIMESTAMP | Date the X-ray was uploaded |
| last_accessed      | TIMESTAMP | Last time the file was accessed |
| encrypted_hash     | TEXT | Cryptographic hash of the file |

---

#### **3️⃣ AI-Processed Images Table**  
Stores AI-extracted images converted from DICOM for faster processing.

| Column Name         | Data Type        | Description |
|---------------------|-----------------|-------------|
| image_id           | UUID (Primary Key) | Unique AI-processed image identifier |
| dicom_id           | UUID (Foreign Key) | Links to **DICOM X-ray Storage Table** |
| patient_id         | UUID (Foreign Key) | Links to **Patients Table** |
| file_name          | VARCHAR(255) | Converted JPG/PNG file name |
| file_path          | TEXT | Storage location |
| processed_date     | TIMESTAMP | Date of AI conversion |
| annotation_status  | ENUM('Pending', 'Completed') | Tracks if human verification is needed |

---

#### **4️⃣ AI-Generated Diagnosis Table**  
Stores AI-detected findings, linking them to the original X-ray.

| Column Name         | Data Type        | Description |
|---------------------|-----------------|-------------|
| diagnosis_id       | UUID (Primary Key) | Unique diagnosis identifier |
| dicom_id           | UUID (Foreign Key) | Links to **DICOM X-ray Storage Table** |
| patient_id         | UUID (Foreign Key) | Links to **Patients Table** |
| detected_conditions | JSON | AI-detected conditions (caries, bone loss, fractures, etc.) |
| confidence_scores  | JSON | Confidence level of each finding (e.g., "Caries: 94% confidence") |
| diagnosis_notes    | TEXT | Additional AI-generated explanations |
| reviewed_by_doctor | BOOLEAN | Whether a human provider has verified the AI results |
| review_date        | TIMESTAMP | Date of human review (if applicable) |

---

#### **5️⃣ Medical & Dental History Table**  
Stores a patient’s relevant health background for AI-enhanced diagnosis.

| Column Name         | Data Type        | Description |
|---------------------|-----------------|-------------|
| history_id         | UUID (Primary Key) | Unique record identifier |
| patient_id         | UUID (Foreign Key) | Links to **Patients Table** |
| medical_conditions | JSON | Chronic illnesses, medications, allergies, etc. |
| previous_diagnoses | JSON | Past dental conditions (gum disease, extractions, implants, etc.) |
| family_history     | JSON | Relevant hereditary conditions (diabetes, osteoporosis, etc.) |
| last_updated       | TIMESTAMP | Last record update date |

---

### **2. Security & Compliance Features**
To ensure **HIPAA compliance**, DentaMind will implement:

✔ **End-to-End Encryption** – All DICOM files, patient records, and AI results will be encrypted at rest and in transit.
✔ **Access Control** – Only authorized users (dentists, radiologists, AI reviewers) can view sensitive data.
✔ **Audit Logs** – Every time a file is accessed, updated, or diagnosed, a log entry is created.
✔ **Multi-Factor Authentication (MFA)** – Required for any user accessing patient data.

---

### **3. Workflow for AI-Assisted Diagnosis in DentaMind**
1. **Dentist Uploads X-ray (DICOM File)**  
   - The system extracts the **image and metadata**.
   - The original **DICOM file is securely stored**.
   
2. **AI Processes the Image & Cross-References Patient Data**  
   - Converts DICOM to **JPG/PNG** for AI analysis.
   - Retrieves **medical history** and past X-rays for comparison.
   - Detects abnormalities (e.g., caries, bone loss, fractures) and assigns **confidence scores**.

3. **AI Generates a Preliminary Diagnosis**  
   - AI findings are **logged in the Diagnosis Table**.
   - If confidence is low, the system flags the case for **human review**.

4. **Dentist Reviews & Confirms the AI Diagnosis**  
   - The provider sees **AI-detected conditions + patient history**.
   - AI suggestions can be **accepted, modified, or rejected**.
   - Finalized results are stored **securely in the patient’s chart**.

---

### **4. Integration with DentaMind Features**
This system will integrate seamlessly with:
- **Real-time Insurance Pre-Authorization** (checking coverage for necessary procedures).
- **Treatment Planning & AI Case Sequencing** (prioritizing urgent cases based on AI findings).
- **Financial & Billing AI** (predicting costs based on treatment options).
- **X-ray Superimposition Tracking** (comparing past vs. current images to detect disease progression).

---

### **5. Next Steps for Implementation**
1. **Develop the DICOM to JPG/PNG Conversion Module** for AI processing.
2. **Build the AI Diagnosis Model** that integrates with medical history.
3. **Implement Secure Storage & Access Controls** to ensure compliance.
4. **Test AI Accuracy Against Human Diagnoses** before clinical rollout.
5. **Deploy to Dental Practices for Real-World Use.**

---

**Maintained by:** DentaMind AI Development Team  
**Version:** 1.0  
**Review Date:** [Insert Date]  

